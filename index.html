<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2026 元宵節猜燈謎 - 早安樂活</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        festival: {
                            red: '#C92A2A',
                            darkRed: '#9B1C1C',
                            gold: '#FFD43B',
                            yellow: '#FCC419'
                        }
                    },
                    animation: {
                        'bounce-slow': 'bounce 3s infinite',
                    }
                }
            }
        }
    </script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Serif+TC:wght@600;900&family=Noto+Sans+TC:wght@400;700&display=swap');
        
        body {
            font-family: 'Noto Sans TC', sans-serif;
            background-color: #C92A2A;
            background-image: radial-gradient(#E03131 2px, transparent 2px), radial-gradient(#E03131 2px, transparent 2px);
            background-size: 32px 32px;
            background-position: 0 0, 16px 16px;
        }
        
        h1, .riddle-text {
            font-family: 'Noto Serif TC', serif;
        }

        .lantern {
            position: absolute;
            top: -20px;
            width: 60px;
            height: 80px;
            background: #FFD43B;
            border-radius: 30px;
            box-shadow: 0 0 20px rgba(255, 212, 59, 0.6);
            z-index: 10;
        }
        .lantern::before {
            content: '';
            position: absolute;
            top: -5px;
            left: 20px;
            width: 20px;
            height: 10px;
            background: #444;
        }
        .lantern::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 20px;
            width: 20px;
            height: 10px;
            background: #444;
        }
        .tassel {
            position: absolute;
            bottom: -40px;
            left: 25px;
            width: 10px;
            height: 40px;
            background: #FFD43B;
        }
        
        /* New Styles for Selection Screen */
        .category-btn {
            transition: all 0.3s ease;
        }
        .category-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        .category-btn.selected {
            background-color: #FFD43B;
            color: #9B1C1C;
            border-color: #9B1C1C;
        }
    </style>
</head>
<body class="min-h-screen flex flex-col items-center justify-center p-4 relative overflow-hidden">

    <!-- 裝飾燈籠 -->
    <div class="lantern animate-bounce-slow" style="left: 10%; animation-delay: 0s;">
        <div class="tassel"></div>
        <div class="absolute inset-0 flex items-center justify-center text-red-600 font-bold text-xl border-2 border-orange-300 rounded-[30px] opacity-50">福</div>
    </div>
    <div class="lantern animate-bounce-slow" style="right: 10%; animation-delay: 1.5s;">
        <div class="tassel"></div>
        <div class="absolute inset-0 flex items-center justify-center text-red-600 font-bold text-xl border-2 border-orange-300 rounded-[30px] opacity-50">春</div>
    </div>
    
    <!-- 額外燈籠裝飾 (增加年味) -->
    <div class="lantern animate-bounce-slow" style="left: 25%; top: -40px; transform: scale(0.8); animation-delay: 0.5s; opacity: 0.8;">
        <div class="tassel"></div>
        <div class="absolute inset-0 flex items-center justify-center text-red-600 font-bold text-xl border-2 border-orange-300 rounded-[30px] opacity-50">喜</div>
    </div>
    <div class="lantern animate-bounce-slow" style="right: 25%; top: -40px; transform: scale(0.8); animation-delay: 2s; opacity: 0.8;">
        <div class="tassel"></div>
        <div class="absolute inset-0 flex items-center justify-center text-red-600 font-bold text-xl border-2 border-orange-300 rounded-[30px] opacity-50">樂</div>
    </div>

    <!-- 主卡片 (寬度縮小) -->
    <div class="w-full max-w-sm bg-white rounded-3xl shadow-2xl overflow-hidden border-4 border-festival-gold relative z-20 mx-auto"> <!-- max-w-md -> max-w-sm -->
        
        <!-- Header -->
        <div class="bg-festival-darkRed p-5 text-center border-b-4 border-festival-gold relative"> <!-- p-6 -> p-5 -->
            <h1 class="text-2xl font-black text-festival-gold tracking-widest mb-1 flex items-center justify-center gap-2"> <!-- text-3xl -> text-2xl -->
                <i class="fas fa-lightbulb text-yellow-300 animate-pulse text-xl"></i>
                元宵猜燈謎
                <i class="fas fa-lightbulb text-yellow-300 animate-pulse text-xl"></i>
            </h1>
            <p class="text-white/80 text-xs">動動腦，好運到！</p> <!-- text-sm -> text-xs -->
        </div>

        <!-- Screen 1: Category Selection -->
        <div id="categoryScreen" class="p-6 text-center min-h-[320px] flex flex-col justify-between"> <!-- p-8 -> p-6, min-h-[360px] -> min-h-[320px] -->
            <h2 class="text-lg font-bold text-gray-800 mb-3">請選擇燈謎類型</h2> <!-- text-xl -> text-lg -->
            <div class="grid grid-cols-2 gap-2 mb-4 text-sm"> <!-- gap-3 -> gap-2, text-sm added -->
                <button onclick="selectCategory('成語篇')" class="category-btn border-2 border-festival-red text-festival-red bg-white py-2 rounded-lg font-bold">成語篇</button>
                <button onclick="selectCategory('字謎篇')" class="category-btn border-2 border-festival-red text-festival-red bg-white py-2 rounded-lg font-bold">字謎篇</button>
                <button onclick="selectCategory('台灣地名篇')" class="category-btn border-2 border-festival-red text-festival-red bg-white py-2 rounded-lg font-bold">台灣地名篇</button>
                <button onclick="selectCategory('食物篇')" class="category-btn border-2 border-festival-red text-festival-red bg-white py-2 rounded-lg font-bold">食物篇</button>
                <button onclick="selectCategory('物品篇')" class="category-btn border-2 border-festival-red text-festival-red bg-white py-2 rounded-lg font-bold">物品篇</button>
                <button onclick="selectCategory('動物篇')" class="category-btn border-2 border-festival-red text-festival-red bg-white py-2 rounded-lg font-bold">動物篇</button>
                <button onclick="selectCategory('腦筋急轉彎')" class="category-btn border-2 border-festival-red text-festival-red bg-white py-2 rounded-lg font-bold col-span-2">腦筋急轉彎</button>
                <button onclick="selectCategory('all')" class="category-btn border-2 border-festival-gold bg-festival-gold text-red-900 py-2 rounded-lg font-bold col-span-2 shadow-sm">全部隨機</button>
            </div>
        </div>

        <!-- Screen 2: Riddle Game (Hidden by default) -->
        <div id="gameScreen" class="hidden p-6 text-center min-h-[320px] flex flex-col justify-between relative"> <!-- p-8 -> p-6, min-h-[360px] -> min-h-[320px] -->
            
            <!-- 分類標籤 & 返回按鈕 -->
            <div class="absolute top-3 left-0 w-full flex justify-between px-4 items-center">
                <button onclick="backToMenu()" class="text-gray-400 hover:text-festival-red text-xs flex items-center"> <!-- text-sm -> text-xs -->
                    <i class="fas fa-chevron-left mr-1"></i>重選
                </button>
                <span id="riddleCategory" class="bg-festival-yellow text-red-900 px-3 py-0.5 rounded-full text-xs font-bold shadow-md"> <!-- px-4 -> px-3, text-sm -> text-xs -->
                    分類載入中...
                </span>
                <div class="w-8"></div> <!-- Spacer for centering -->
            </div>

            <!-- 題目區域 -->
            <div class="mt-6 mb-4 flex-grow flex items-center justify-center"> <!-- mt-8 -> mt-6, mb-6 -> mb-4 -->
                <p id="riddleQuestion" class="riddle-text text-xl md:text-2xl font-bold text-gray-800 leading-relaxed px-2"> <!-- text-2xl -> text-xl, md:text-3xl -> md:text-2xl -->
                    題目載入中...
                </p>
            </div>

            <!-- 答案區域 (預設隱藏) -->
            <div id="answerArea" class="hidden mb-4 transform transition-all duration-300"> <!-- mb-6 -> mb-4 -->
                <div class="bg-red-50 p-3 rounded-xl border-2 border-red-100"> <!-- p-4 -> p-3 -->
                    <p class="text-gray-500 text-xs mb-1">謎底是：</p> <!-- text-sm -> text-xs -->
                    <p id="riddleAnswer" class="text-xl font-bold text-festival-red"></p> <!-- text-2xl -> text-xl -->
                </div>
            </div>
            
            <!-- 祝賀區域 (預設隱藏) -->
            <div id="congratsArea" class="hidden mb-4 transform transition-all duration-300">
                <div class="bg-yellow-50 p-4 rounded-xl border-2 border-yellow-200">
                    <i class="fas fa-crown text-4xl text-festival-gold mb-2 block animate-bounce"></i>
                    <p class="text-festival-darkRed font-bold text-lg mb-1">你真是太聰明了！</p>
                    <p class="text-gray-600 text-sm">這個分類的題目已經全部答完囉。</p>
                </div>
            </div>

            <!-- 按鈕區 -->
            <div class="space-y-2"> <!-- space-y-3 -> space-y-2 -->
                <button id="showBtn" onclick="toggleAnswer()" class="w-full bg-festival-gold hover:bg-yellow-400 text-red-900 font-bold py-2.5 rounded-xl shadow-md transition transform hover:scale-[1.02] active:scale-95 text-sm"> <!-- py-3 -> py-2.5, text-sm added -->
                    <i class="fas fa-lightbulb mr-2"></i>點我看解答
                </button>
                <button id="nextBtn" onclick="nextRiddle()" class="w-full bg-festival-red hover:bg-red-700 text-white font-bold py-2.5 rounded-xl shadow-md transition transform hover:scale-[1.02] active:scale-95 text-sm"> <!-- py-3 -> py-2.5, text-sm added -->
                    <i class="fas fa-dice mr-2"></i>下一題
                </button>
                <button id="homeBtn" onclick="backToMenu()" class="hidden w-full bg-festival-red hover:bg-red-700 text-white font-bold py-2.5 rounded-xl shadow-md transition transform hover:scale-[1.02] active:scale-95 text-sm">
                    <i class="fas fa-home mr-2"></i>玩其他分類
                </button>
            </div>
        </div>
    </div>

    <!-- 底部版權 -->
    <div class="mt-4 text-white/60 text-[10px] text-center"> <!-- mt-6 -> mt-4, text-xs -> text-[10px] -->
        © 2026 早安樂活 | 祝您元宵節快樂
    </div>

    <script>
        // 資料庫
        const allRiddles = [
            // 成語篇
            { cat: "成語篇", q: "3-2、6-1、4-3、6+4", a: "一五一十" },
            { cat: "成語篇", q: "只騙中年人", a: "童叟無欺" },
            { cat: "成語篇", q: "一二五六", a: "丟三落四" },
            { cat: "成語篇", q: "少了一本書", a: "缺一不可（缺一「book」）" },
            { cat: "成語篇", q: "沒有郵筒", a: "不可置信" },
            { cat: "成語篇", q: "一個巴掌拍不響", a: "孤掌難鳴" },
            { cat: "成語篇", q: "一隻熊朝你走過來", a: "有備而來（有「bear」來）" },
            // 字謎篇
            { cat: "字謎篇", q: "缺少力量", a: "劣" },
            { cat: "字謎篇", q: "兔子少一點", a: "免" },
            { cat: "字謎篇", q: "兩隻狗在對話", a: "獄" },
            { cat: "字謎篇", q: "有弟弟、有姊姊、有妹妹", a: "歌" },
            { cat: "字謎篇", q: "我不騎羊，羊卻騎我", a: "義" },
            { cat: "字謎篇", q: "裹腳", a: "跑" },
            // 台灣地名篇
            { cat: "台灣地名篇", q: "雙火雙水", a: "淡水" },
            { cat: "台灣地名篇", q: "四分五裂", a: "九份" },
            { cat: "台灣地名篇", q: "飯桌少雙筷", a: "基隆（台語「基」與「飢」諧音，而「隆」則諧音台語的「雙」）" },
            { cat: "台灣地名篇", q: "雨後春筍", a: "新竹" },
            { cat: "台灣地名篇", q: "表揚善行", a: "嘉義" },
            { cat: "台灣地名篇", q: "兩好球三壞球", a: "南投（難投）" },
            // 食物篇
            { cat: "食物篇", q: "蜘蛛結網", a: "吐司（吐絲）" },
            { cat: "食物篇", q: "此物真稀奇，圓圓很好吃，人家皮包骨，它卻骨包皮", a: "雞蛋" },
            { cat: "食物篇", q: "天堂火災", a: "燒仙草" },
            { cat: "食物篇", q: "有耳不能聽", a: "木耳" },
            { cat: "食物篇", q: "狼來了", a: "楊桃（羊逃）" },
            { cat: "食物篇", q: "什麼水果視力最差？", a: "芒果（盲果）" },
            { cat: "食物篇", q: "汽車會飛", a: "咖啡（「Car」飛）" },
            // 物品篇
            { cat: "物品篇", q: "駝背哥哥，牙齒多多，從你頭上，輕輕走過", a: "梳子" },
            { cat: "物品篇", q: "它似水般清，卻比水更輕，把它放入水，馬上見分明", a: "油" },
            { cat: "物品篇", q: "家住大海，早上岸來；太陽一曬，越曬越白", a: "鹽" },
            { cat: "物品篇", q: "身體長長，兄弟成雙；只會吃菜，不會喝湯", a: "筷子" },
            { cat: "物品篇", q: "一朵花兒手中拿，日曬雨淋也用它", a: "雨傘" },
            { cat: "物品篇", q: "一個入口，兩條隧道，只進一條，無法使用", a: "褲子" },
            // 動物篇
            { cat: "動物篇", q: "小小一條龍，鬍鬚硬似鬃，活著沒有血，死了滿身紅。", a: "蝦子" },
            { cat: "動物篇", q: "小時穿黑衣，長大換綠袍，水裡過日子，岸上來睡覺。", a: "青蛙" },
            { cat: "動物篇", q: "說牠是條牛，無法拉車走，說牠力氣小，卻能背屋走。", a: "蝸牛" },
            { cat: "動物篇", q: "小小諸葛亮，獨坐中軍帳，擺起八卦陣，要捉飛天將。", a: "蜘蛛" },
            { cat: "動物篇", q: "有翅飛不起，無腳走千里。", a: "魚" },
            { cat: "動物篇", q: "日飛落樹上，夜晚到廟堂。不要看我小，有心肺肝腸。", a: "麻雀" },
            // 腦筋急轉彎
            { cat: "腦筋急轉彎", q: "鯊魚拍照為什麼會昏倒？", a: "婚紗照（昏鯊照）" },
            { cat: "腦筋急轉彎", q: "胃可以塞得下幾道美食？", a: "9道，因為「胃食道（十道）逆流」" },
            { cat: "腦筋急轉彎", q: "什麼食物最誠實不會騙人？", a: "披薩，因為只能切成4片、6片、8片，無法切成7片（欺騙）" },
            { cat: "腦筋急轉彎", q: "哪種龍最愛漂亮？", a: "保麗龍" },
            { cat: "腦筋急轉彎", q: "手機的媽媽叫什麼？", a: "手機螢幕（諧音台語的「他媽媽」）" },
            { cat: "腦筋急轉彎", q: "起司的媽媽叫什麼？", a: "帕馬，因為帕馬森（生）起司" },
            { cat: "腦筋急轉彎", q: "為什麽蠶寶寶很有錢？", a: "因為他會結繭（節儉）" },
            { cat: "腦筋急轉彎", q: "猴子不喜歡什麽線？", a: "平行線，因為沒有相交（香蕉）" },
            { cat: "腦筋急轉彎", q: "狐狸為什麽經常會摔跤？", a: "因為為狐狸很狡猾（腳滑）" },
            { cat: "腦筋急轉彎", q: "哪種人不能在加油站工作？", a: "會油腔滑調（油槍滑掉）的人" },
            { cat: "腦筋急轉彎", q: "布和紙怕什麽？", a: "一萬和萬一，因為不（布）怕一萬,只（紙）怕萬一" },
            { cat: "腦筋急轉彎", q: "狼、老虎和獅子一起玩遊戲，誰會被淘汰？", a: "狼，因為桃太郎（淘汰狼）" }
        ];

        let currentRiddleList = [];
        let availableRiddles = [];
        let currentRiddle = null;

        function selectCategory(category) {
            if (category === 'all') {
                currentRiddleList = [...allRiddles];
            } else {
                currentRiddleList = allRiddles.filter(r => r.cat === category);
            }
            
            // Initialize available riddles for this session
            availableRiddles = [...currentRiddleList];
            
            // Switch screens
            document.getElementById('categoryScreen').classList.add('hidden');
            document.getElementById('gameScreen').classList.remove('hidden');
            document.getElementById('gameScreen').classList.add('flex');
            
            // Reset UI states
            document.getElementById('riddleQuestion').classList.remove('hidden');
            document.getElementById('answerArea').classList.add('hidden');
            document.getElementById('congratsArea').classList.add('hidden');
            document.getElementById('showBtn').classList.remove('hidden');
            document.getElementById('nextBtn').classList.remove('hidden');
            document.getElementById('homeBtn').classList.add('hidden');
            
            nextRiddle();
        }

        function backToMenu() {
            document.getElementById('gameScreen').classList.add('hidden');
            document.getElementById('gameScreen').classList.remove('flex');
            document.getElementById('categoryScreen').classList.remove('hidden');
        }

        function nextRiddle() {
            // Check if there are any riddles left
            if (availableRiddles.length === 0) {
                showCongratulations();
                return;
            }

            // 隨機選題並移除已選題目
            const randomIndex = Math.floor(Math.random() * availableRiddles.length);
            currentRiddle = availableRiddles[randomIndex];
            availableRiddles.splice(randomIndex, 1);

            // 更新畫面
            document.getElementById('riddleCategory').innerText = currentRiddle.cat;
            document.getElementById('riddleQuestion').innerText = currentRiddle.q;
            document.getElementById('riddleAnswer').innerText = currentRiddle.a;

            // 重置狀態
            document.getElementById('answerArea').classList.add('hidden');
            const showBtn = document.getElementById('showBtn');
            showBtn.classList.remove('hidden');
            showBtn.innerHTML = '<i class="fas fa-lightbulb mr-2"></i>點我看解答';
        }

        function showCongratulations() {
            document.getElementById('riddleQuestion').classList.add('hidden');
            document.getElementById('answerArea').classList.add('hidden');
            document.getElementById('showBtn').classList.add('hidden');
            document.getElementById('nextBtn').classList.add('hidden');
            
            document.getElementById('congratsArea').classList.remove('hidden');
            document.getElementById('homeBtn').classList.remove('hidden');
            document.getElementById('riddleCategory').innerText = "恭喜完成";
        }

        function toggleAnswer() {
            const answerArea = document.getElementById('answerArea');
            const showBtn = document.getElementById('showBtn');
            
            if (answerArea.classList.contains('hidden')) {
                answerArea.classList.remove('hidden');
                showBtn.classList.add('hidden'); // 顯示答案後隱藏按鈕，引導按下一題
            }
        }
    </script>
</body>
</html>
